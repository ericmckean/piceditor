To install a new font:

1. Get the ttf and put it in fonts/ttf
   - Don't add it to subversion yet. Running build may rename to remove illegal chars.
2. Open a command prompt and go to fonts/
3. run build.py

If TTDump fails, create txt file manually. 
	pkName must contain only letters and numbers. Use 0 for bad chars
	make sure the name in the css is the same as the name in the ttf
	If you get src:local('asfasfd') error not found, try a different name
	Tweak css bold/italic if it can't find it

4. When done, you get KeyError 'authorName' You need to add authorName and authorUrl to txt to generate xml.

5. Run build.py again to create new_fonts.xml

6. Copy font from new_fonts.xml into fonts.xml
	- Add premium="0" or premium="1" (required) and extraPremium="1" (optional)
	- Add font category and categoryId (category gets localised, categoryId doesn't)
	- Looks like this:
		 category="BasicFonts" category="BasicFonts" premium="0">

7. Fix "altBold/italic" fonts (fake bold)
	Move them into the same font family as the regular font
	Add altBold="1" or altItalic="1" or both

8. After editing fonts.xml, build the localized fonts.xml files
	A. Open command prompt at \src\picnik\
	B. Run bin\loc\buildXML.py
	
9. Create the preview manaully. Name it the same as the swf + _pkSmall.png (CAPS matter!)
	A. Put PNGs in subdirectories matching the fonts' categoryId, i.e. "website\fonts\pngs\BasicFonts")

10. Check everything in:
	1. ttf
	2. txt
	3. css
	4. swf
	5. png
	6. fonts.xml
	7. localized fonts.xml

\src\picnik\fonts:
ttf\*.ttf : source ttf

txt\*.txt : created by analyzing the ttf (sometimes fails and needs to be done by hand)
    used to create css, meta info.
	Need to manually add authorUrl and authorName before generating XML
	May be a way to set "flash type" in txt file?
css\*.css: Created from txt file
	Different for flash fonts
website\fonts\swfs\*.swf: loaded by the client
	Generated by build.py using ttf, txt, and css, and optionally flash swf
website\fonts\fonts.xml
	Genereated by build.py using txt files
	Manually edit to add:
		premium/extraPremium
		altBold, altItalic
		Organize families
		Set font category
	Run bin\loc\buildXML.py to generate:
website\app\<locale>\fonts.xml
	Built from fonts.xml and FontsXML.properties

website\fonts\pngs\{categoryId}\*.png: loaded by the client for previews
website\app\

fonts\build.py
 - Look for ttf file with missing products
 - Will create whatever is missing
 
